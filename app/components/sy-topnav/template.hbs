<header class="nav-top-header">
  <button
    type="button"
    class="nav-toggle nav-top-toggle"
    {{on "click" (fn (toggle "expand" this))}}
  >
    <span class="nav-toggle-icon"></span>
  </button>
  <LinkTo @route="index">
    <TimedClock />
    <div class="nav-top-header-title">
      Timed
      <div class="nav-top-header-title-version">
        v{{app-version hideSha=true}}
      </div>
    </div>
  </LinkTo>
</header>
<section class="nav-top-body">
  <ul class="nav-top-list">
    <li class="nav-top-list-item">
      <LinkTo @route="index">
        <FaIcon @icon="clock-o" /> Tracking
      </LinkTo>
    </li>
    {{#unless this.navMobile}}
      {{#if (can "access page")}}
        <li class="nav-top-list-item">
          <LinkTo @route="analysis">
              <FaIcon @icon="line-chart" /> Analysis
          </LinkTo>
        </li>
        <li class="nav-top-list-item">
          <LinkTo @route="statistics">
              <FaIcon @icon="bar-chart" /> Statistics
          </LinkTo>
        </li>
        <li class="nav-top-list-item">
          <LinkTo @route="projects">
            <FaIcon @icon="briefcase" /> Projects
          </LinkTo>
        </li>
      {{/if}}
    {{/unless}}
    {{#if this.session.data.user.isSuperuser}}
      <li class="nav-top-list-item">
        <LinkTo @route="users.index">
          <FaIcon @icon="users" /> Users
        </LinkTo>
      </li>
    {{/if}}
  </ul>
  <ul class="nav-top-list nav-top-list--right">
    <ReportReviewWarning />
    <li class="nav-top-list-item">
      <LinkTo
        @route="users.edit"
        @model={{this.session.data.user.id}}
      >
        <FaIcon @icon="user" /> {{this.session.data.user.fullName}}
      </LinkTo>
    </li>
    <li class="nav-top-list-item">
      <a href="#" data-test-logout {{action (optional on-logout)}}>
        <FaIcon @icon="power-off" /> Logout
      </a>
    </li>
  </ul>
</section>