<div class="btn-toolbar btn-toolbar--right form-group">
  <button type="button" class="btn btn-success" data-test-add-attendance {{action 'addAttendance'}}>Add attendance</button>
</div>
<div class="attendances">
  {{#if attendances}}
    {{#if (or (media 'isXl') (media 'isLg') (media 'isMd'))}}
      {{#each attendances as |attendance|}}
        <AttendanceSlider
          @attendance={{changeset attendance this.AttendanceValidator}}
          @on-save={{route-action "saveAttendance"}}
          @on-delete={{route-action "deleteAttendance"}}
          data-test-attendance-slider
          data-test-attendance-slider-id=attendance.id
        />
      {{/each}}
    {{else}}
      <table class="table table--striped table--attendances">
        <tbody>
          {{#each attendances as |attendance|}}
            {{#let (changeset attendance AttendanceValidator) as |model|}}
              <tr
                data-test-attendance-slider
                data-test-attendance-slider-id={{attendance.id}}>
                <td>
                  {{sy-timepicker value=model.from onChange=(action (mut model.from))}}
                </td>
                <td>
                  {{sy-timepicker value=model.to onChange=(action (mut model.to))}}
                </td>
                <td>
                  <button type="button" class="btn btn-danger" {{action 'deleteAttendance' model}}>{{fa-icon 'trash'}}</button>
                  <button type="submit" class="btn btn-primary" disabled={{not (and model.isDirty model.isValid)}} {{action 'saveAttendance' model}}>{{fa-icon 'save'}}</button>
                </td>
              </tr>
            {{/let}}
          {{/each}}
        </tbody>
      </table>
    {{/if}}
  {{else}}
    <div class="text-center"><em>No attendances yet</em></div>
  {{/if}}
  <div class="text-center">
    <br>
  </div>
</div>
